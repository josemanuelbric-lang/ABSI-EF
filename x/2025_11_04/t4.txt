import numpy as np

# --- I. CONSTANTES F√çSICAS Y PAR√ÅMETROS TDH ---
# Constantes f√≠sicas (Valores CODATA aproximados para la comprobaci√≥n)
G_CODATA = 6.674e-11   # m^3 kg^-1 s^-2
hbar = 1.054e-34       # J s
c = 3.0e8              # m/s
k_B = 1.38e-23         # J/K
m_p = 1.672e-27        # kg (Masa del prot√≥n)
M_BH = 1.0e-24         # kg (Masa del Microagujero Negro hipot√©tico)

# Par√°metros TDH
D = 4.0
F = 3.0
N = 3.87093            # Tensi√≥n Maestra
E_PLANCK = 1.22e19     # GeV (Escala de Unificaci√≥n)
M0 = 91.2              # GeV (M_Z, Escala de Partida)

# --- II. NUEVA DERIVACI√ìN DE C_G_TDH (Corregida) ---

# 1. Componentes de la F√≥rmula E_36
E_36 = (D * F * (D * F / N)) - (D**3 / N**3) # E_36 ‚âà 36.096

# 2. Nueva F√≥rmula para C_G_TDH
# C_G_TDH = [ (D - N) / N ] ^ (E_36 / F)
BASE_CG = (D - N) / N
EXPONENTE_CG = E_36 / F # 36.096 / 3 = 12.032

C_G_TDH_NUEVO = BASE_CG**EXPONENTE_CG

# ----------------------------------------------------
# 3. COMPROBACI√ìN DEL VALOR C_G (Debe ser ‚âà 9.06e-36)
# ----------------------------------------------------
# Nota: La f√≥rmula corregida C_G_TDH_NUEVO es el valor que se necesita.

# --- III. C√ÅLCULO DE G_TDH (COMPLETO) ---

# 4. Calcular el Acoplamiento Universal en Planck (Alpha_u(E_Planck))
def alpha_u_planck(D, F, N, E_PLANCK, M0):
    nucleo_tension = (F * (D - N)) / N
    factor_logaritmico = N * np.log(E_PLANCK / M0)
    alpha_u = nucleo_tension / (1.0 + factor_logaritmico)
    return alpha_u

ALPHA_U_PLANCK = alpha_u_planck(D, F, N, E_PLANCK, M0)

# 5. Calcular el Factor de Jerarqu√≠a Inverso
# Es el inverso de la relaci√≥n Alpha_u / Alpha_G
FACTOR_JERARQUIA_INV = C_G_TDH_NUEVO * ALPHA_U_PLANCK

# 6. Aplicar el Factor de Escala (hbar*c / m_p^2)
FACTOR_DE_ESCALA = (hbar * c) / (m_p**2)

# 7. C√°lculo final de G_TDH
G_TDH = FACTOR_DE_ESCALA * FACTOR_JERARQUIA_INV

# --- IV. RESULTADOS Y COMPROBACI√ìN ---

# 8. C√°lculo de T_BH (Usando G_TDH)
T_BH_TDH = (hbar * c**3) / (8 * np.pi * G_TDH * k_B * M_BH)

# T_BH Cl√°sico para comparaci√≥n
T_BH_CLASICO = (hbar * c**3) / (8 * np.pi * G_CODATA * k_B * M_BH)

# Error
Error_Porcentaje_G = (abs(G_TDH - G_CODATA) / G_CODATA) * 100

print("=" * 80)
print("üî¨ F√ìRMULA CORREGIDA Y PREDICCI√ìN DE G_TDH")
print("=" * 80)

print(f"1. Componentes TDH:")
print(f"   D√©ficit Dimensional / Tensi√≥n (Base): {BASE_CG:.6f}")
print(f"   Exponente de Jerarqu√≠a (E_36 / F): {EXPONENTE_CG:.4f}")
print("-" * 80)

print(f"2. Factor de Conversi√≥n Gravitacional (C_G_TDH Nuevo):")
print(f"   C_G_TDH = {C_G_TDH_NUEVO:.6e} (¬°Ahora est√° en el rango correcto!)")
print("-" * 80)

print(f"3. G Medido (CODATA): {G_CODATA:.6e} m¬≥ kg‚Åª¬π s‚Åª¬≤")
print(f"4. G Predicho (G_TDH Pura): {G_TDH:.6e} m¬≥ kg‚Åª¬π s‚Åª¬≤")
print(f"   -> Error en G: {Error_Porcentaje_G:.4f} %")
print("-" * 80)

print(f"5. T_BH Cl√°sica (Usando G_CODATA): {T_BH_CLASICO:.4e} Kelvin")
print(f"6. T_BH TDH (Usando G_TDH Pura): {T_BH_TDH:.4e} Kelvin")